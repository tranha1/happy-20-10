<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>ğŸŒ¸ Thiá»‡p 20/10 táº·ng Em GÃ¡i</title>
  <meta name="description" content="Thiá»‡p web vui nhá»™n chÃºc má»«ng 20/10 dÃ nh cho em gÃ¡i" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&family=Pacifico&display=swap" rel="stylesheet">
  <style>
    body{margin:0;font-family:Poppins,sans-serif;background:linear-gradient(135deg,#ffeaf3,#e6e6ff);color:#333;overflow-x:hidden;text-align:center}
    .glass{background:rgba(255,255,255,.5);backdrop-filter:blur(10px);border-radius:16px;padding:20px;margin:20px auto;max-width:800px;box-shadow:0 8px 20px rgba(0,0,0,.1)}
    header{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;position:sticky;top:0;background:rgba(255,255,255,.6);backdrop-filter:blur(8px)}
    h1{font-family:Pacifico,cursive;color:#ff2f7a;margin:0;font-size:22px}
    button{border:none;border-radius:10px;padding:10px 16px;font-weight:600;cursor:pointer;background:linear-gradient(135deg,#ff5c9a,#7a5cff);color:#fff;box-shadow:0 5px 10px rgba(0,0,0,.1)}
    button:hover{opacity:.9}
    .envelope{position:relative;width:300px;height:200px;margin:30px auto;cursor:pointer;}
    .env-body{position:absolute;inset:0;background:#fff;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,.2)}
    .env-flap{position:absolute;inset:0;clip-path:polygon(0 0,100% 0,50% 60%);background:linear-gradient(180deg,#fff 0%,#ffe3ef 80%);transform-origin:50% 0;transition:transform .6s}
    .envelope.open .env-flap{transform:rotateX(180deg)}
    .letter{max-height:0;overflow:hidden;transition:max-height 1s ease}
    .letter.open{max-height:600px}
    .paper{background:#fff;border-radius:10px;padding:20px;box-shadow:0 5px 10px rgba(0,0,0,.1);margin:10px auto;max-width:500px}
    .typed{white-space:pre-wrap;min-height:60px}
    .fun-section{display:grid;gap:16px;grid-template-columns:1fr;max-width:800px;margin:0 auto;padding:20px}
    .widget{background:rgba(255,255,255,.6);backdrop-filter:blur(8px);border-radius:12px;padding:20px;box-shadow:0 5px 10px rgba(0,0,0,.1)}
    .kudos{display:flex;align-items:center;justify-content:center;gap:12px}
    .kudos .count{font-size:30px;font-weight:700;color:#ff2f7a}
    .game{margin-top:20px}
    .balloon{font-size:40px;cursor:pointer;animation:float 3s ease-in-out infinite}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
    footer{text-align:center;font-size:12px;color:#666;margin:40px 0}
  </style>
</head>
<body>
<header>
  <h1>Thiá»‡p 20/10 cho Em GÃ¡i ğŸ’•</h1>
  <div>
    <button id="toggleMusic">ğŸµ Báº­t nháº¡c</button>
    <button id="spawnConfetti">âœ¨ Báº¯n tim</button>
  </div>
</header>

<section class="glass">
  <h2>Gá»­i em gÃ¡i yÃªu dáº¥u ğŸŒ¸</h2>
  <p>Nháº¥n vÃ o phong bÃ¬ Ä‘á»ƒ má»Ÿ thÆ° bÃ­ máº­t nhÃ©!</p>
  <div class="envelope" id="envelope">
    <div class="env-body"></div>
    <div class="env-flap"></div>
  </div>
  <div id="letter" class="letter">
    <div class="paper">
      <h3>ThÆ° gá»­i em Háº±ng</h3>
      <div id="typed" class="typed"></div>
      <div>
        <button id="retype">â†» GÃµ láº¡i</button>
        <button id="editMsg">âœï¸ Sá»­a lá»i chÃºc</button>
      </div>
    </div>
  </div>
</section>

<section class="fun-section">
  <div class="widget">
    <h4> MÃ¡y Ä‘áº¿m tiá»n</h4>
    <div class="kudos">
      <div class="count" id="kudosCount">0</div>
      <button id="kudosBtn">+1 Tuyá»‡t vá»i!</button>
      <button id="kudosReset">Äáº·t láº¡i</button>
    </div>
  </div>
  <div class="widget">
    <h4>ğŸˆ TrÃ² chÆ¡i tháº£ bÃ³ng bay</h4>
    <p>Nháº¥n vÃ o bÃ³ng bay Ä‘á»ƒ lÃ m nÃ³ ná»• vÃ  nháº­n lá»i chÃºc vui nhÃ©!</p>
    <div id="balloonArea" class="game"></div>
  </div>
</section>

<section class="glass">
  <h4>ğŸ“ Lá»i nháº¯n viáº¿t tay</h4>
  <input id="noteInput" type="text" placeholder="Viáº¿t thÃªm lá»i nháº¯nâ€¦">
  <button id="addNote">ThÃªm vÃ o thÆ°</button>
</section>

<footer>
  LÃ m báº±ng ğŸ’— Ä‘á»ƒ chÃºc má»«ng em gÃ¡i nhÃ¢n ngÃ y 20/10 Â· Äáº·t file <code>music.mp3</code> cáº¡nh tá»‡p nÃ y Ä‘á»ƒ phÃ¡t nháº¡c ná»n.
</footer>

<audio id="bgm" loop preload="auto"><source src="music.mp3" type="audio/mpeg"></audio>
<script>
const envelope=document.getElementById('envelope');const letter=document.getElementById('letter');const typed=document.getElementById('typed');const retype=document.getElementById('retype');const editMsg=document.getElementById('editMsg');const kudosBtn=document.getElementById('kudosBtn');const kudosReset=document.getElementById('kudosReset');const kudosCount=document.getElementById('kudosCount');const noteInput=document.getElementById('noteInput');const addNote=document.getElementById('addNote');const bgm=document.getElementById('bgm');const toggleMusic=document.getElementById('toggleMusic');const spawnConfetti=document.getElementById('spawnConfetti');
let baseMsg=`ChÃºc má»«ng 20/10! ğŸ’•\n\nChÃºc em gÃ¡i luÃ´n xinh Ä‘áº¹p, há»c giá»i, vui váº» vÃ  háº¡nh phÃºc má»—i ngÃ y!\n\nHÃ´m nay nhá»› Äƒn ngon, cÆ°á»i tÆ°Æ¡i vÃ  nháº­n tháº­t nhiá»u hoa nhÃ©! ğŸŒ¸ğŸ’`;
let typingTimer;
function typewriter(text){clearInterval(typingTimer);typed.textContent='';let i=0;typingTimer=setInterval(()=>{typed.textContent+=text[i]||'';i++;if(i>=text.length)clearInterval(typingTimer);},25);}

// Envelope open
envelope.addEventListener('click',()=>{envelope.classList.toggle('open');const isOpen=envelope.classList.contains('open');letter.classList.toggle('open',isOpen);if(isOpen)typewriter(baseMsg);});
retype.addEventListener('click',()=>typewriter(baseMsg));
editMsg.addEventListener('click',()=>{const val=prompt('Nháº­p lá»i chÃºc cá»§a báº¡n:',baseMsg);if(val&&val.trim().length>3){baseMsg=val.trim();typewriter(baseMsg);}});

// Kudos counter
const KKEY='kudos-emgai';function loadKudos(){const v=+localStorage.getItem(KKEY)||0;kudosCount.textContent=v;}function saveKudos(v){localStorage.setItem(KKEY,v);}loadKudos();
kudosBtn.addEventListener('click',()=>{let v=+kudosCount.textContent+1;kudosCount.textContent=v;saveKudos(v);sparkle();});
kudosReset.addEventListener('click',()=>{saveKudos(0);loadKudos();});

// Balloons game
const balloonArea=document.getElementById('balloonArea');function spawnBalloon(){const b=document.createElement('div');b.className='balloon';b.textContent=['ğŸˆ','ğŸ‰','ğŸ’–','ğŸŒ¸','ğŸ©·'][Math.floor(Math.random()*5)];b.style.position='relative';b.addEventListener('click',()=>{alert('BÃ¹m! Má»™t lá»i chÃºc bay tá»›i báº¡n! ğŸ’•');b.remove();});balloonArea.appendChild(b);}setInterval(()=>{if(balloonArea.children.length<6)spawnBalloon();},2000);

// Add note
addNote.addEventListener('click',()=>{const n=noteInput.value.trim();if(!n)return;baseMsg+=`\n\nGhi chÃº thÃªm: ${n}`;noteInput.value='';typewriter(baseMsg);});

// Music toggle
let musicOn=false;toggleMusic.addEventListener('click',async()=>{try{if(!musicOn){await bgm.play();toggleMusic.textContent='â¸ï¸ Táº¯t nháº¡c';}else{bgm.pause();toggleMusic.textContent='ğŸµ Báº­t nháº¡c';}musicOn=!musicOn;}catch(e){alert('Cháº¡m vÃ o mÃ n hÃ¬nh rá»“i báº­t nháº¡c nhÃ©!');}});

// Confetti
function spawnPetal(){const el=document.createElement('div');el.textContent=['ğŸŒ¸','ğŸŒº','ğŸ’–','ğŸ’','ğŸŒ·'][Math.floor(Math.random()*5)];el.style.position='fixed';el.style.left=Math.random()*100+'vw';el.style.top='-20px';el.style.fontSize='18px';el.style.animation=`fall ${5+Math.random()*5}s linear forwards`;document.body.appendChild(el);setTimeout(()=>el.remove(),10000);}
function sparkle(){for(let i=0;i<8;i++)spawnPetal();}
spawnConfetti.addEventListener('click',()=>{for(let i=0;i<40;i++)setTimeout(spawnPetal,i*30);});
</script>
</body>
</html>
